package fr.leobatouxas.gestionculture.modele;

import android.database.Cursor;
import android.util.Log;

import org.json.JSONArray;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.List;

import fr.leobatouxas.gestionculture.Global;

public class Exploitation {

    private String codeExploitation;
    private String adresse;
    private String ville;
    private String codePostal;
    private Exploitant exploitant;
    private ArrayList<CahierCulture> cahierCultures;

    public Exploitation() {
    }

    public Exploitation(String codeExploitation, String adresse, String ville, String codePostal, Exploitant exploitant) {
        this.codeExploitation = codeExploitation;
        this.adresse = adresse;
        this.ville = ville;
        this.codePostal = codePostal;
        this.exploitant = exploitant;
    }
    public Exploitation(String codeExploitation, String adresse, String ville, String codePostal, Exploitant exploitant, ArrayList<CahierCulture> cahierCultures) {
        this.codeExploitation = codeExploitation;
        this.adresse = adresse;
        this.ville = ville;
        this.codePostal = codePostal;
        this.exploitant = exploitant;
        this.cahierCultures = cahierCultures;
    }

    public Exploitation(String codeExploitation) {
        this.codeExploitation = codeExploitation;
    }

    /**
     * Conversion de l'exploitation au format JSONArray
     * @return
     */
    public JSONArray convertToJSONArray(){
        List list = new ArrayList();
        list.add(codeExploitation);
        list.add(adresse);
        list.add(ville);
        list.add(codePostal);
        list.add(exploitant.getIdExploitant());
        return new JSONArray(list);
    }

    public void creer(){
        Log.d("tst",this.convertToJSONArray().toString());
        Global.lesExploitations.add(this);
        Global.accesDistant.envoi("enregExploitation", this.convertToJSONArray());
    }

    public String getCodeExploitation() {
        return codeExploitation;
    }

    public void setCodeExploitation(String codeExploitation) {
        this.codeExploitation = codeExploitation;
    }

    public String getAdresse() {
        return adresse;
    }

    public void setAdresse(String adresse) {
        this.adresse = adresse;
    }

    public String getVille() {
        return ville;
    }

    public void setVille(String ville) {
        this.ville = ville;
    }

    public String getCodePostal() {
        return codePostal;
    }

    public void setCodePostal(String codePostal) {
        this.codePostal = codePostal;
    }

    public Exploitant getExploitant() {
        return exploitant;
    }

    public void setExploitant(Exploitant exploitant) {
        this.exploitant = exploitant;
    }

    public ArrayList<CahierCulture> getCahierCultures() {
        return cahierCultures;
    }

    public void setCahierCultures(ArrayList<CahierCulture> cahierCultures) {
        this.cahierCultures = cahierCultures;
    }
}
